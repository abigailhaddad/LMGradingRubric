{
  "version": 1,
  "status": "error",
  "eval": {
    "task": "my_eval",
    "task_version": 0,
    "task_id": "MEzjaArWi8m85FsUM52Ne5",
    "run_id": "FK6i99EYpH5haX8kY8ey8V",
    "created": "2024-05-23T13:19:31",
    "dataset": {},
    "model": "openai/gpt-4o",
    "task_attribs": {},
    "task_args": {},
    "model_args": {},
    "config": {},
    "revision": {
      "type": "git",
      "origin": "https://github.com/abigailhaddad/LMGradingRubric.git",
      "commit": "ea8ea48"
    },
    "packages": {
      "inspect_ai": "0.3.4.dev1+g6cfb4fe"
    }
  },
  "plan": {
    "name": "plan",
    "steps": [
      {
        "solver": "system_message",
        "params": {
          "message": "You are an AI assistant helping with fact comparison."
        }
      },
      {
        "solver": "generate",
        "params": {}
      }
    ],
    "config": {}
  },
  "stats": {
    "started_at": "2024-05-23T13:19:31",
    "completed_at": "2024-05-23T13:19:38",
    "model_usage": {
      "openai/gpt-4o": {
        "input_tokens": 1292,
        "output_tokens": 281,
        "total_tokens": 1573
      }
    }
  },
  "error": {
    "message": "OutputParserException('Invalid json output: {\\n    \"facts_in_both\": [\\n        \"The fox is brown.\"\\n    ],\\n    \"facts_only_in_answer\": [\\n        // No facts only in the answer\\n    ],\\n    \"facts_only_in_context\": [\\n        \"The dog is white.\"\\n    ]\\n}')",
    "traceback": "Traceback (most recent call last):\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\output_parsers\\json.py\", line 66, in parse_result\n    return parse_json_markdown(text)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\utils\\json.py\", line 147, in parse_json_markdown\n    return _parse_json(json_str, parser=parser)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\utils\\json.py\", line 160, in _parse_json\n    return parser(json_str)\n           ^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\utils\\json.py\", line 120, in parse_partial_json\n    return json.loads(s, strict=strict)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\__init__.py\", line 359, in loads\n    return cls(**kw).decode(s)\n           ^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\n\njson.decoder.JSONDecodeError: Expecting value: line 6 column 9 (char 98)\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\inspect_ai\\_eval\\task.py\", line 296, in run\n    scores = await asyncio.gather(*tasks)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\tasks.py\", line 339, in __wakeup\n    future.result()\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\tasks.py\", line 267, in __step\n    result = coro.send(None)\n             ^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\inspect_ai\\_eval\\task.py\", line 428, in run_eval_task\n    result = await scorer(state, Target(sample.target)) if scorer else None\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Temp\\ipykernel_28572\\3788833180.py\", line 41, in score\n    score = await fact_comparator_scorer(state, target)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Temp\\ipykernel_28572\\3664820006.py\", line 33, in __call__\n    result = await self.fact_comparator.process_data(context, target_text)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\AppData\\Local\\Temp\\ipykernel_28572\\2662105523.py\", line 20, in process_data\n    comparison_result = self.parser.parse((await self.model._agenerate([HumanMessage(content=self._compare_prompt().format(context_list=context_list, answer_list=answer_list))])).generations[0].text)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\output_parsers\\pydantic.py\", line 64, in parse\n    return super().parse(text)\n           ^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\output_parsers\\json.py\", line 72, in parse\n    return self.parse_result([Generation(text=text)])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\output_parsers\\pydantic.py\", line 60, in parse_result\n    json_object = super().parse_result(result)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n  File \"C:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain_core\\output_parsers\\json.py\", line 69, in parse_result\n    raise OutputParserException(msg, llm_output=text) from e\n\nlangchain_core.exceptions.OutputParserException: Invalid json output: {\n    \"facts_in_both\": [\n        \"The fox is brown.\"\n    ],\n    \"facts_only_in_answer\": [\n        // No facts only in the answer\n    ],\n    \"facts_only_in_context\": [\n        \"The dog is white.\"\n    ]\n}\n",
    "traceback_ansi": "\u001b[31m+-\u001b[0m\u001b[31m------------------------------\u001b[0m\u001b[31m \u001b[0m\u001b[1;31mTraceback \u001b[0m\u001b[1;2;31m(most recent call last)\u001b[0m\u001b[31m \u001b[0m\u001b[31m-------------------------------\u001b[0m\u001b[31m-+\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\output_parsers\\json.py\u001b[0m:\u001b[94m66\u001b[0m in \u001b[92mparse_result\u001b[0m                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 63 \u001b[0m                \u001b[94mreturn\u001b[0m \u001b[94mNone\u001b[0m                                                                \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 64 \u001b[0m        \u001b[94melse\u001b[0m:                                                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 65 \u001b[0m            \u001b[94mtry\u001b[0m:                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m 66                 \u001b[94mreturn\u001b[0m parse_json_markdown(text)                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 67 \u001b[0m            \u001b[94mexcept\u001b[0m JSONDecodeError \u001b[94mas\u001b[0m e:                                                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 68 \u001b[0m                msg = \u001b[33mf\u001b[0m\u001b[33m\"\u001b[0m\u001b[33mInvalid json output: \u001b[0m\u001b[33m{\u001b[0mtext\u001b[33m}\u001b[0m\u001b[33m\"\u001b[0m                                       \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 69 \u001b[0m                \u001b[94mraise\u001b[0m OutputParserException(msg, llm_output=text) \u001b[94mfrom\u001b[0m \u001b[4;96me\u001b[0m                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m     msg = \u001b[33m'Invalid json output: \u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[1;33m]\u001b[0m\u001b[33m,'\u001b[0m+\u001b[94m143\u001b[0m                                                                            \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m partial = \u001b[94mFalse\u001b[0m                                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m  result = \u001b[1m[\u001b[0m                                                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[1;35mGeneration\u001b[0m\u001b[1m(\u001b[0m                                                                    \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                   \u001b[33mtext\u001b[0m=\u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[1m)\u001b[0m                                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[1m]\u001b[0m                                                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    self = \u001b[1;35mPydanticOutputParser\u001b[0m\u001b[1m(\u001b[0m\u001b[33mpydantic_object\u001b[0m=\u001b[1m<\u001b[0m\u001b[1;95mclass\u001b[0m\u001b[39m \u001b[0m\u001b[33m'__main__.ComparisonResult'\u001b[0m\u001b[1m>\u001b[0m\u001b[1m)\u001b[0m          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    text = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\utils\\json.py\u001b[0m:\u001b[94m147\u001b[0m in \u001b[92mparse_json_markdown\u001b[0m                                                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m144 \u001b[0m        \u001b[94melse\u001b[0m:                                                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m145 \u001b[0m            \u001b[2m# If match found, use the content within the backticks\u001b[0m                         \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m146 \u001b[0m            json_str = match.group(\u001b[94m2\u001b[0m)                                                      \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m147     \u001b[94mreturn\u001b[0m _parse_json(json_str, parser=parser)                                            \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m148 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m149 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m150 \u001b[0m\u001b[94mdef\u001b[0m \u001b[92m_parse_json\u001b[0m(                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    json_str = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m json_string = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m       match = \u001b[94mNone\u001b[0m                                                                           \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m      parser = \u001b[1m<\u001b[0m\u001b[1;95mfunction\u001b[0m\u001b[39m parse_partial_json at \u001b[0m\u001b[94m0x0000016F6311BC40\u001b[0m\u001b[1m>\u001b[0m                            \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\utils\\json.py\u001b[0m:\u001b[94m160\u001b[0m in \u001b[92m_parse_json\u001b[0m                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m157 \u001b[0m    json_str = _custom_parser(json_str)                                                    \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m158 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m159 \u001b[0m    \u001b[2m# Parse the JSON string into a Python dictionary\u001b[0m                                       \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m160     \u001b[94mreturn\u001b[0m parser(json_str)                                                                \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m161 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m162 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m163 \u001b[0m\u001b[94mdef\u001b[0m \u001b[92mparse_and_check_json_markdown\u001b[0m(text: \u001b[96mstr\u001b[0m, expected_keys: List[\u001b[96mstr\u001b[0m]) -> \u001b[96mdict\u001b[0m:            \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m json_str = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m             \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m            \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                             \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m   parser = \u001b[1m<\u001b[0m\u001b[1;95mfunction\u001b[0m\u001b[39m parse_partial_json at \u001b[0m\u001b[94m0x0000016F6311BC40\u001b[0m\u001b[1m>\u001b[0m                               \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\utils\\json.py\u001b[0m:\u001b[94m120\u001b[0m in \u001b[92mparse_partial_json\u001b[0m                                                    \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m117 \u001b[0m    \u001b[2m# If we got here, we ran out of characters to remove\u001b[0m                                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m118 \u001b[0m    \u001b[2m# and still couldn't parse the string as JSON, so return the parse error\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m119 \u001b[0m    \u001b[2m# for the original string.\u001b[0m                                                             \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m120     \u001b[94mreturn\u001b[0m json.loads(s, strict=strict)                                                    \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m121 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m122 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m123 \u001b[0m\u001b[94mdef\u001b[0m \u001b[92mparse_json_markdown\u001b[0m(                                                                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m             char = \u001b[33m'\u001b[0m\u001b[1;33m}\u001b[0m\u001b[33m'\u001b[0m                                                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m          escaped = \u001b[94mFalse\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m          final_s = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m'\u001b[0m                                                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m is_inside_string = \u001b[94mFalse\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m            new_s = \u001b[33m''\u001b[0m                                                                        \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                s = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                    \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m            stack = \u001b[1m[\u001b[0m\u001b[1m]\u001b[0m                                                                        \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           strict = \u001b[94mFalse\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\__init__.py\u001b[0m:\u001b[94m359\u001b[0m in \u001b[92mloads\u001b[0m         \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m356 \u001b[0m        kw[\u001b[33m'\u001b[0m\u001b[33mparse_int\u001b[0m\u001b[33m'\u001b[0m] = parse_int                                                        \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m357 \u001b[0m    \u001b[94mif\u001b[0m parse_constant \u001b[95mis\u001b[0m \u001b[95mnot\u001b[0m \u001b[94mNone\u001b[0m:                                                         \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m358 \u001b[0m        kw[\u001b[33m'\u001b[0m\u001b[33mparse_constant\u001b[0m\u001b[33m'\u001b[0m] = parse_constant                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m359     \u001b[94mreturn\u001b[0m \u001b[96mcls\u001b[0m(**kw).decode(s)                                                             \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m360 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               cls = \u001b[1m<\u001b[0m\u001b[1;95mclass\u001b[0m\u001b[39m \u001b[0m\u001b[33m'json.decoder.JSONDecoder'\u001b[0m\u001b[1m>\u001b[0m                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                kw = \u001b[1m{\u001b[0m\u001b[33m'strict'\u001b[0m: \u001b[94mFalse\u001b[0m\u001b[1m}\u001b[0m                                                        \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m       object_hook = \u001b[94mNone\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m object_pairs_hook = \u001b[94mNone\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    parse_constant = \u001b[94mNone\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m       parse_float = \u001b[94mNone\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m         parse_int = \u001b[94mNone\u001b[0m                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                 s = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m    \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                     \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                    \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\decoder.py\u001b[0m:\u001b[94m337\u001b[0m in \u001b[92mdecode\u001b[0m         \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m334 \u001b[0m\u001b[33m        containing a JSON document).\u001b[0m                                                       \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m335 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m336 \u001b[0m\u001b[33m        \"\"\"\u001b[0m                                                                                \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m337         obj, end = \u001b[96mself\u001b[0m.raw_decode(s, idx=_w(s, \u001b[94m0\u001b[0m).end())                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m338 \u001b[0m        end = _w(s, end).end()                                                             \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m339 \u001b[0m        \u001b[94mif\u001b[0m end != \u001b[96mlen\u001b[0m(s):                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m340 \u001b[0m            \u001b[94mraise\u001b[0m JSONDecodeError(\u001b[33m\"\u001b[0m\u001b[33mExtra data\u001b[0m\u001b[33m\"\u001b[0m, s, end)                                    \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m   _w = \u001b[1m<\u001b[0m\u001b[1;95mbuilt-in\u001b[0m\u001b[39m method match of re.Pattern object at \u001b[0m\u001b[94m0x0000016F5D8DC040\u001b[0m\u001b[1m>\u001b[0m                    \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    s = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m        \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m self = \u001b[1m<\u001b[0m\u001b[1;95mjson.decoder.JSONDecoder\u001b[0m\u001b[39m object at \u001b[0m\u001b[94m0x0000016F7797EAD0\u001b[0m\u001b[1m>\u001b[0m                               \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\json\\decoder.py\u001b[0m:\u001b[94m355\u001b[0m in \u001b[92mraw_decode\u001b[0m     \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m352 \u001b[0m        \u001b[94mtry\u001b[0m:                                                                               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m353 \u001b[0m            obj, end = \u001b[96mself\u001b[0m.scan_once(s, idx)                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m354 \u001b[0m        \u001b[94mexcept\u001b[0m \u001b[96mStopIteration\u001b[0m \u001b[94mas\u001b[0m err:                                                       \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m355             \u001b[94mraise\u001b[0m JSONDecodeError(\u001b[33m\"\u001b[0m\u001b[33mExpecting value\u001b[0m\u001b[33m\"\u001b[0m, s, err.value) \u001b[94mfrom\u001b[0m \u001b[94mNone\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m356 \u001b[0m        \u001b[94mreturn\u001b[0m obj, end                                                                    \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m357 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m  idx = \u001b[94m0\u001b[0m                                                                                     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    s = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m        \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m self = \u001b[1m<\u001b[0m\u001b[1;95mjson.decoder.JSONDecoder\u001b[0m\u001b[39m object at \u001b[0m\u001b[94m0x0000016F7797EAD0\u001b[0m\u001b[1m>\u001b[0m                               \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m+--------------------------------------------------------------------------------------------------+\u001b[0m\n\u001b[1;91mJSONDecodeError: \u001b[0mExpecting value: line \u001b[1;36m6\u001b[0m column \u001b[1;36m9\u001b[0m \u001b[1m(\u001b[0mchar \u001b[1;36m98\u001b[0m\u001b[1m)\u001b[0m\n\n\u001b[3mThe above exception was the direct cause of the following exception:\u001b[0m\n\n\u001b[31m+-\u001b[0m\u001b[31m------------------------------\u001b[0m\u001b[31m \u001b[0m\u001b[1;31mTraceback \u001b[0m\u001b[1;2;31m(most recent call last)\u001b[0m\u001b[31m \u001b[0m\u001b[31m-------------------------------\u001b[0m\u001b[31m-+\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\inspect_a\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mi\\_eval\\task.py\u001b[0m:\u001b[94m296\u001b[0m in \u001b[92mrun\u001b[0m                                                                       \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\tasks.py\u001b[0m:\u001b[94m339\u001b[0m in \u001b[92m__wakeup\u001b[0m      \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\tasks.py\u001b[0m:\u001b[94m267\u001b[0m in \u001b[92m__step\u001b[0m        \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\inspect_a\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mi\\_eval\\task.py\u001b[0m:\u001b[94m428\u001b[0m in \u001b[92mrun_eval_task\u001b[0m                                                             \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m in \u001b[92mscore\u001b[0m:\u001b[94m41\u001b[0m                                                                                      \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 38 \u001b[0m    fact_comparator_scorer = FactComparatorScorer(model)                                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 39 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 40 \u001b[0m    \u001b[2m# Call the scorer\u001b[0m                                                                      \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m 41     score = \u001b[94mawait\u001b[0m fact_comparator_scorer(state, target)                                    \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 42 \u001b[0m    \u001b[96mprint\u001b[0m(score)                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 43 \u001b[0m    \u001b[96mprint\u001b[0m(score.value)                                                                     \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 44 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m fact_comparator_scorer = \u001b[1m<\u001b[0m\u001b[1;95m__main__.FactComparatorScorer\u001b[0m\u001b[39m object at \u001b[0m\u001b[94m0x0000016F78E68A50\u001b[0m\u001b[1m>\u001b[0m        \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                  model = \u001b[1;35mInspectChatModel\u001b[0m\u001b[1m(\u001b[0m                                                   \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                              \u001b[33mmessages\u001b[0m=\u001b[1m[\u001b[0m                                                      \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[1;35mChatMessageUser\u001b[0m\u001b[1m(\u001b[0m                                            \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33mcontent\u001b[0m=\u001b[33m'\\n            You will be comparing facts \u001b[0m     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                          \u001b[33mbetween a context and an answer to dete'\u001b[0m+\u001b[94m1571\u001b[0m,                      \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33msource\u001b[0m=\u001b[94mNone\u001b[0m,                                            \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33mrole\u001b[0m=\u001b[33m'user'\u001b[0m                                             \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[1m)\u001b[0m,                                                          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[1;35mChatMessageAssistant\u001b[0m\u001b[1m(\u001b[0m                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33mcontent\u001b[0m=\u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is\u001b[0m \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                          \u001b[33mbrown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m,                         \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33msource\u001b[0m=\u001b[33m'generate'\u001b[0m,                                      \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33mrole\u001b[0m=\u001b[33m'assistant'\u001b[0m,                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33mtool_calls\u001b[0m=\u001b[94mNone\u001b[0m                                         \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[1m)\u001b[0m                                                           \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                              \u001b[1m]\u001b[0m,                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                              \u001b[33moutput\u001b[0m=\u001b[1;35mModelOutput\u001b[0m\u001b[1m(\u001b[0m                                             \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[33mmodel\u001b[0m=\u001b[33m'gpt-4o-2024-05-13'\u001b[0m,                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[33mchoices\u001b[0m=\u001b[1m[\u001b[0m                                                   \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[1;35mChatCompletionChoice\u001b[0m\u001b[1m(\u001b[0m                                   \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                          \u001b[33mmessage\u001b[0m=\u001b[1;35mChatMessageAssistant\u001b[0m\u001b[1m(\u001b[0m                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                              \u001b[33mcontent\u001b[0m=\u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \u001b[0m    \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                          \u001b[33m\"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m,             \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                              \u001b[33msource\u001b[0m=\u001b[33m'generate'\u001b[0m,                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                              \u001b[33mrole\u001b[0m=\u001b[33m'assistant'\u001b[0m,                               \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                              \u001b[33mtool_calls\u001b[0m=\u001b[94mNone\u001b[0m                                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                          \u001b[1m)\u001b[0m,                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                          \u001b[33mstop_reason\u001b[0m=\u001b[33m'stop'\u001b[0m,                                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                          \u001b[33mlogprobs\u001b[0m=\u001b[94mNone\u001b[0m                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[1m)\u001b[0m                                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[1m]\u001b[0m,                                                          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[33musage\u001b[0m=\u001b[1;35mModelUsage\u001b[0m\u001b[1m(\u001b[0m                                           \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33minput_tokens\u001b[0m=\u001b[94m337\u001b[0m,                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33moutput_tokens\u001b[0m=\u001b[94m55\u001b[0m,                                       \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                      \u001b[33mtotal_tokens\u001b[0m=\u001b[94m392\u001b[0m                                        \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[1m)\u001b[0m,                                                          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                                  \u001b[33merror\u001b[0m=\u001b[94mNone\u001b[0m                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                              \u001b[1m)\u001b[0m                                                               \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                          \u001b[1m)\u001b[0m                                                                   \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                  state = \u001b[1m<\u001b[0m\u001b[1;95minspect_ai.solver._solver.TaskState\u001b[0m\u001b[39m object at \u001b[0m\u001b[94m0x0000016F791AA2D0\u001b[0m\u001b[1m>\u001b[0m  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                 target = \u001b[1m<\u001b[0m\u001b[1;95minspect_ai.scorer._scorer.Target\u001b[0m\u001b[39m object at \u001b[0m\u001b[94m0x0000016F7921C450\u001b[0m\u001b[1m>\u001b[0m     \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[3;31m                                                                                                \u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[3;31m                                    ... 1 frames hidden ...                                     \u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m in \u001b[92mprocess_data\u001b[0m:\u001b[94m20\u001b[0m                                                                               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 17 \u001b[0m        context_list = (\u001b[94mawait\u001b[0m \u001b[96mself\u001b[0m.model._agenerate([HumanMessage(content=\u001b[96mself\u001b[0m._parse_pr   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 18 \u001b[0m        answer_list = (\u001b[94mawait\u001b[0m \u001b[96mself\u001b[0m.model._agenerate([HumanMessage(content=\u001b[96mself\u001b[0m._parse_pro   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 19 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m 20         comparison_result = \u001b[96mself\u001b[0m.parser.parse((\u001b[94mawait\u001b[0m \u001b[96mself\u001b[0m.model._agenerate([HumanMessage   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 21 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 22 \u001b[0m        \u001b[94mreturn\u001b[0m {                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 23 \u001b[0m            \u001b[33m\"\u001b[0m\u001b[33mcontext_list\u001b[0m\u001b[33m\"\u001b[0m: context_list,                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m-----------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m-----------------------------------\u001b[0m\u001b[33m-+\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m       answer = \u001b[1m[\u001b[0m\u001b[33m'The fox is brown.'\u001b[0m\u001b[1m]\u001b[0m                                           \u001b[33m|\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m  answer_list = \u001b[33m'\u001b[0m\u001b[1;33m<\u001b[0m\u001b[1;33mfacts\u001b[0m\u001b[33m>\\n1. The fox is brown.\\n</facts\u001b[0m\u001b[1;33m>\u001b[0m\u001b[33m'\u001b[0m                       \u001b[33m|\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m      context = \u001b[33m'The fox is brown. The dog is white.'\u001b[0m                           \u001b[33m|\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m context_list = \u001b[33m'\u001b[0m\u001b[1;33m<\u001b[0m\u001b[1;33mfacts\u001b[0m\u001b[33m>\\n1. The fox is brown.\\n2. The dog is white.\\n</facts\u001b[0m\u001b[1;33m>\u001b[0m\u001b[33m'\u001b[0m \u001b[33m|\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m         self = \u001b[1m<\u001b[0m\u001b[1;95m__main__.FactComparator\u001b[0m\u001b[39m object at \u001b[0m\u001b[94m0x0000016F777483D0\u001b[0m\u001b[1m>\u001b[0m          \u001b[33m|\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+--------------------------------------------------------------------------------+\u001b[0m               \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\output_parsers\\pydantic.py\u001b[0m:\u001b[94m64\u001b[0m in \u001b[92mparse\u001b[0m                                                     \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 61 \u001b[0m        \u001b[94mreturn\u001b[0m \u001b[96mself\u001b[0m._parse_obj(json_object)                                                \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 62 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 63 \u001b[0m    \u001b[94mdef\u001b[0m \u001b[92mparse\u001b[0m(\u001b[96mself\u001b[0m, text: \u001b[96mstr\u001b[0m) -> TBaseModel:                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m 64         \u001b[94mreturn\u001b[0m \u001b[96msuper\u001b[0m().parse(text)                                                         \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 65 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 66 \u001b[0m    \u001b[94mdef\u001b[0m \u001b[92mget_format_instructions\u001b[0m(\u001b[96mself\u001b[0m) -> \u001b[96mstr\u001b[0m:                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 67 \u001b[0m        \u001b[2m# Copy schema to avoid altering original Pydantic schema.\u001b[0m                          \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m self = \u001b[1;35mPydanticOutputParser\u001b[0m\u001b[1m(\u001b[0m\u001b[33mpydantic_object\u001b[0m=\u001b[1m<\u001b[0m\u001b[1;95mclass\u001b[0m\u001b[39m \u001b[0m\u001b[33m'__main__.ComparisonResult'\u001b[0m\u001b[1m>\u001b[0m\u001b[1m)\u001b[0m             \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m text = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m        \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\output_parsers\\json.py\u001b[0m:\u001b[94m72\u001b[0m in \u001b[92mparse\u001b[0m                                                         \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 69 \u001b[0m                \u001b[94mraise\u001b[0m OutputParserException(msg, llm_output=text) \u001b[94mfrom\u001b[0m \u001b[4;96me\u001b[0m                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 70 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 71 \u001b[0m    \u001b[94mdef\u001b[0m \u001b[92mparse\u001b[0m(\u001b[96mself\u001b[0m, text: \u001b[96mstr\u001b[0m) -> Any:                                                     \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m 72         \u001b[94mreturn\u001b[0m \u001b[96mself\u001b[0m.parse_result([Generation(text=text)])                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 73 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 74 \u001b[0m    \u001b[94mdef\u001b[0m \u001b[92mget_format_instructions\u001b[0m(\u001b[96mself\u001b[0m) -> \u001b[96mstr\u001b[0m:                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 75 \u001b[0m        \u001b[94mif\u001b[0m \u001b[96mself\u001b[0m.pydantic_object \u001b[95mis\u001b[0m \u001b[94mNone\u001b[0m:                                                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m self = \u001b[1;35mPydanticOutputParser\u001b[0m\u001b[1m(\u001b[0m\u001b[33mpydantic_object\u001b[0m=\u001b[1m<\u001b[0m\u001b[1;95mclass\u001b[0m\u001b[39m \u001b[0m\u001b[33m'__main__.ComparisonResult'\u001b[0m\u001b[1m>\u001b[0m\u001b[1m)\u001b[0m             \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m text = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m        \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                                 \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\output_parsers\\pydantic.py\u001b[0m:\u001b[94m60\u001b[0m in \u001b[92mparse_result\u001b[0m                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 57 \u001b[0m    \u001b[94mdef\u001b[0m \u001b[92mparse_result\u001b[0m(                                                                      \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 58 \u001b[0m        \u001b[96mself\u001b[0m, result: List[Generation], *, partial: \u001b[96mbool\u001b[0m = \u001b[94mFalse\u001b[0m                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 59 \u001b[0m    ) -> TBaseModel:                                                                       \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m 60         json_object = \u001b[96msuper\u001b[0m().parse_result(result)                                         \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 61 \u001b[0m        \u001b[94mreturn\u001b[0m \u001b[96mself\u001b[0m._parse_obj(json_object)                                                \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 62 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 63 \u001b[0m    \u001b[94mdef\u001b[0m \u001b[92mparse\u001b[0m(\u001b[96mself\u001b[0m, text: \u001b[96mstr\u001b[0m) -> TBaseModel:                                              \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m partial = \u001b[94mFalse\u001b[0m                                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m  result = \u001b[1m[\u001b[0m                                                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[1;35mGeneration\u001b[0m\u001b[1m(\u001b[0m                                                                    \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                   \u001b[33mtext\u001b[0m=\u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[1m)\u001b[0m                                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[1m]\u001b[0m                                                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    self = \u001b[1;35mPydanticOutputParser\u001b[0m\u001b[1m(\u001b[0m\u001b[33mpydantic_object\u001b[0m=\u001b[1m<\u001b[0m\u001b[1;95mclass\u001b[0m\u001b[39m \u001b[0m\u001b[33m'__main__.ComparisonResult'\u001b[0m\u001b[1m>\u001b[0m\u001b[1m)\u001b[0m          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33mC:\\Users\\abiga\\OneDrive\\Documents\\PythonScripts\\LLMGradingRubric\\env\\Lib\\site-packages\\langchain\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m_core\\output_parsers\\json.py\u001b[0m:\u001b[94m69\u001b[0m in \u001b[92mparse_result\u001b[0m                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 66 \u001b[0m                \u001b[94mreturn\u001b[0m parse_json_markdown(text)                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 67 \u001b[0m            \u001b[94mexcept\u001b[0m JSONDecodeError \u001b[94mas\u001b[0m e:                                                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 68 \u001b[0m                msg = \u001b[33mf\u001b[0m\u001b[33m\"\u001b[0m\u001b[33mInvalid json output: \u001b[0m\u001b[33m{\u001b[0mtext\u001b[33m}\u001b[0m\u001b[33m\"\u001b[0m                                       \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[31m❱ \u001b[0m 69                 \u001b[94mraise\u001b[0m OutputParserException(msg, llm_output=text) \u001b[94mfrom\u001b[0m \u001b[4;96me\u001b[0m                   \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 70 \u001b[0m                                                                                           \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 71 \u001b[0m    \u001b[94mdef\u001b[0m \u001b[92mparse\u001b[0m(\u001b[96mself\u001b[0m, text: \u001b[96mstr\u001b[0m) -> Any:                                                     \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m   \u001b[2m 72 \u001b[0m        \u001b[94mreturn\u001b[0m \u001b[96mself\u001b[0m.parse_result([Generation(text=text)])                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m                                                                                                  \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+-\u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m locals \u001b[0m\u001b[33m------------------------------------------\u001b[0m\u001b[33m-+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m     msg = \u001b[33m'Invalid json output: \u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[1;33m]\u001b[0m\u001b[33m,'\u001b[0m+\u001b[94m143\u001b[0m                                                                            \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m partial = \u001b[94mFalse\u001b[0m                                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m  result = \u001b[1m[\u001b[0m                                                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[1;35mGeneration\u001b[0m\u001b[1m(\u001b[0m                                                                    \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m                   \u001b[33mtext\u001b[0m=\u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m               \u001b[1m)\u001b[0m                                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[1m]\u001b[0m                                                                                  \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    self = \u001b[1;35mPydanticOutputParser\u001b[0m\u001b[1m(\u001b[0m\u001b[33mpydantic_object\u001b[0m=\u001b[1m<\u001b[0m\u001b[1;95mclass\u001b[0m\u001b[39m \u001b[0m\u001b[33m'__main__.ComparisonResult'\u001b[0m\u001b[1m>\u001b[0m\u001b[1m)\u001b[0m          \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m    text = \u001b[33m'\u001b[0m\u001b[1;33m{\u001b[0m\u001b[33m\\n    \"facts_in_both\": \u001b[0m\u001b[1;33m[\u001b[0m\u001b[33m\\n        \"The fox is brown.\"\\n    \u001b[0m\u001b[1;33m]\u001b[0m\u001b[33m,\\n    \u001b[0m              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m|\u001b[0m           \u001b[33m\"facts_only_in_a'\u001b[0m+\u001b[94m122\u001b[0m                                                              \u001b[33m|\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m|\u001b[0m \u001b[33m+----------------------------------------------------------------------------------------------+\u001b[0m \u001b[31m|\u001b[0m\n\u001b[31m+--------------------------------------------------------------------------------------------------+\u001b[0m\n\u001b[1;91mOutputParserException: \u001b[0mInvalid json output: \u001b[1m{\u001b[0m\n    \u001b[32m\"facts_in_both\"\u001b[0m: \u001b[1m[\u001b[0m\n        \u001b[32m\"The fox is brown.\"\u001b[0m\n    \u001b[1m]\u001b[0m,\n    \u001b[32m\"facts_only_in_answer\"\u001b[0m: \u001b[1m[\u001b[0m\n        \u001b[35m/\u001b[0m\u001b[35m/\u001b[0m No facts only in the answer\n    \u001b[1m]\u001b[0m,\n    \u001b[32m\"facts_only_in_context\"\u001b[0m: \u001b[1m[\u001b[0m\n        \u001b[32m\"The dog is white.\"\u001b[0m\n    \u001b[1m]\u001b[0m\n\u001b[1m}\u001b[0m\n"
  },
  "logging": []
}